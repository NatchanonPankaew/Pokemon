<form [formGroup]="teamForm" (ngSubmit)="submitTeam()">
  <div class="team-container">
    <h1>My Pokémon Team</h1>
    <p class="sub">For Generation 6 to 9 (Scarlet/Violet)</p>

    <div class="main-grid">
      <!-- Team Input Area -->
      <div class="team-input">
        <div formArrayName="team" class="team-grid">
          <div
            class="team-slot"
            *ngFor="let slot of team.controls; let i = index"
            [formGroupName]="i"
          >
            <!-- Pokémon Name -->
            <select formControlName="name">
              <option value="">Name</option>
              <option *ngFor="let p of pokemonList" [value]="p">
                {{ p | titlecase }}
              </option>
            </select>

            <!-- Pokémon Moves -->
            <div formArrayName="moves">
              <div *ngFor="let move of getMoves(i).controls; let j = index">
                <select [formControlName]="j">
                  <option value="">Move</option>
                  <option *ngFor="let m of moveList" [value]="m">{{ m }}</option>
                </select>
              </div>
            </div>

            <!-- Item -->
            <select formControlName="item">
              <option value="">Item</option>
              <option *ngFor="let i of itemList" [value]="i">{{ i }}</option>
            </select>

            <!-- Ability -->
            <select formControlName="ability">
              <option value="">Ability</option>
              <option *ngFor="let a of abilityList" [value]="a">{{ a }}</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Analysis Area -->
      <div class="analysis-area">
        <div class="analysis-card">
          <h3>Team Defence</h3>
          <div class="type-grid">
            <div class="type-box" *ngFor="let t of types">
              {{ t | titlecase }}<br />0
            </div>
          </div>
        </div>

        <div class="analysis-card">
          <h3>Team Type Coverage</h3>
          <div class="type-grid">
            <div class="type-box" *ngFor="let t of types">
              {{ t | titlecase }}<br />0
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Filters and Footer -->
    <div class="filters-section">
      <div class="filters-tabs">
        <button class="active" type="button">Search Filters</button>
        <button type="button">Team Checklist</button>
        <button type="button">Save/Load Team</button>
      </div>
      <div class="filters-controls">
        <select><option>Format</option></select>
        <select><option>Type</option></select>
        <select><option>Region</option></select>
        <select><option>Move</option></select>
      </div>
    </div>
  </div>

  <div style="text-align: center; margin-top: 20px;">
    <button type="submit">Submit Team</button>
  </div>
</form>